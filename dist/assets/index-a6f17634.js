(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}})();const d=document.querySelector("[data-your-weather]"),m=document.querySelector("[data-search-weather]"),v=document.querySelector("[data-location-access]"),C=document.querySelector("#grant-text"),y=document.querySelector("[data-search-form]"),i=document.querySelector("[data-weather-info]"),a=document.querySelector("[data-error]"),b=document.querySelector("[data-access-btn]");document.querySelector("#search-btn");const c=document.querySelector("[data-loading-screen]"),$=document.querySelector("[data-city]"),x=document.querySelector("[data-flag]"),O=document.querySelector("[data-weather-type]"),I=document.querySelector("[data-weather-img]"),E=document.querySelector("[data-temp]"),P=document.querySelector("[data-windspeed]"),N=document.querySelector("[data-humidity]"),T=document.querySelector("[data-clouds]");let f=document.querySelector("[data-city-input]");const h="68230895574dfba55abaea2c0a0e9625";let u=d;p();b.addEventListener("click",p);function L(e){e!==u&&(u.classList.remove("active-tab"),u=e,u.classList.add("active-tab"),m.classList.contains("active-tab")?(y.classList.add("active"),v.classList.remove("active"),i.classList.remove("active")):(p(),i.classList.remove("active"),y.classList.remove("active"),a.classList.contains("active")&&a.classList.remove("active"),sessionStorage.getItem||S(A())))}d.addEventListener("click",()=>{L(d)});m.addEventListener("click",()=>{L(m)});async function j(){const e=f.value;c.classList.add("active"),a.classList.remove("active"),i.classList.remove("active");try{const r=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${h}&units=metric`)).json();f.value="",c.classList.remove("active"),i.classList.add("active"),w(r)}catch{i.classList.remove("active"),c.classList.remove("active"),console.log("loading removed"),a.classList.add("active")}}function p(){v.classList.remove("active"),navigator.geolocation?(c.classList.add("active"),navigator.geolocation.getCurrentPosition(e=>{const s={lat:e.coords.latitude,lon:e.coords.longitude};c.classList.remove("active"),S(s),sessionStorage.setItem("userCoordinates",JSON.stringify(s))},e=>{e.code===1?(C.textContent="You denied the request for Geolocation",v.classList.add("active"),c.classList.remove("active")):a.classList.add("active")})):console.log("Your browser does not support Geolocation")}function A(){const e=sessionStorage.getItem("userCoordinates");return JSON.parse(e)}async function S(e){const{lat:s,lon:r}=e;c.classList.add("active"),i.classList.remove("active"),a.classList.remove("active");try{const t=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${s}&lon=${r}&appid=${h}&units=metric`)).json();c.classList.remove("active"),i.classList.add("active"),w(t)}catch(n){i.classList.remove("active"),c.classList.remove("active"),a.classList.add("active"),console.log(n)}}function w(e){var s,r,n,t,o,l,g;$.textContent=e==null?void 0:e.name;try{x.src=`https://flagcdn.com/144x108/${(s=e==null?void 0:e.sys)==null?void 0:s.country.toLowerCase()}.png`}catch(q){console.log(q)}O.textContent=(r=e==null?void 0:e.weather[0])==null?void 0:r.main,I.src=`https://openweathermap.org/img/w/${(n=e==null?void 0:e.weather[0])==null?void 0:n.icon}.png`,E.textContent=`${(t=e==null?void 0:e.main)==null?void 0:t.temp} Â°C`,P.textContent=`${(o=e==null?void 0:e.wind)==null?void 0:o.speed}m/s`,T.textContent=`${(l=e==null?void 0:e.clouds)==null?void 0:l.all}%`,N.textContent=`${(g=e==null?void 0:e.main)==null?void 0:g.humidity}%`}y.addEventListener("submit",e=>{e.preventDefault(),f.value!==""&&j()});
